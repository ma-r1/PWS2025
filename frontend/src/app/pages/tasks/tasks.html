@if(isInRole([0,1])) {

  <div class="page-container"> 
    <gant-chart
        [tasks]="tasks" 
        [teams]="teams">
  </gant-chart>
  </div>

  <div>
    <div class="controls-container">
      @if(isInRole([0])) {
        <button mat-raised-button class="new-task-button" color="primary" (click)="openDialog()">
          Add Task
        </button>
      }

      <div class="spacer"></div>

      <mat-form-field appearance="outline" class="filter-field">
        <mat-label>Filter by Team</mat-label>
        <mat-select [formControl]="filterControl">
            <mat-option [value]="null">All Teams</mat-option>
            @for(team of teams; track team.id) {
                <mat-option [value]="team.id">
                    <span [style.color]="team.color"></span> 
                    {{ team.name }}
                </mat-option>
            }
        </mat-select>
    </mat-form-field>

    </div>

    <tasks-table [filter]="filterControl.value" ></tasks-table> 
  </div>
}